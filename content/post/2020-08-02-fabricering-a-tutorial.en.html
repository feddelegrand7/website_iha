---
title: 'fabricerin: A Tutorial'
author: Mohamed El Fodil Ihaddaden
date: '2020-08-02'
slug: fabricerin-a-tutorial
categories: []
tags:
  - fabricerin
subtitle: ''
summary: ''
authors: []
lastmod: '2020-08-02T11:15:09+02:00'
featured: no
image:
  caption: ''
  focal_point: ''
  preview_only: no
projects: []
---

<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>
<script src="/rmarkdown-libs/fabric/fabric.min.js"></script>
<script src="/rmarkdown-libs/FileSaver/FileSaver.min.js"></script>
<script src="/rmarkdown-libs/jQuery/jquery-3.5.1.min.js"></script>


<div id="fabric_drawing" class="section level2">
<h2>1. fabric_drawing()</h2>
<hr />
<blockquote>
<p>Create a canvas in which the user can draw.</p>
</blockquote>
<pre class="r"><code>library(fabricerin)

fabric_drawing(cid = &quot;canvas1&quot;, 
               cwidth = 400, 
               cheight = 400, 
               cfill = &quot;orange&quot;, 
               drawingWidth = 20, 
               gumSize = 10)</code></pre>

<input id = erasecanvas1 type = 'checkbox' title='Check it to erase !'>

<input id = canvas1drawing-color type = 'color' value = '#005E7A' style = 'width:30px;'>

<input id = exportcanvas1 type = 'button' style = 'width:55px;' value = 'Export'>

<canvas id="canvas1" width="400" height="400"></canvas>
<script>
const canvas1 = new fabric.Canvas('canvas1', {
    backgroundColor: 'orange',
    isDrawingMode: true

    });


canvas1.freeDrawingBrush.width  = 20;


canvas1drawingColorEl = document.getElementById('canvas1drawing-color');

canvas1.freeDrawingBrush.color = canvas1drawingColorEl.value;

canvas1drawingColorEl.onchange = function() {
    canvas1.freeDrawingBrush.color = canvas1drawingColorEl.value;
  };


 $('#erasecanvas1').click(function(){

    if (this.checked) {

      canvas1.freeDrawingBrush.color  = 'orange';

    } else {

      canvas1.freeDrawingBrush.color = canvas1drawingColorEl.value;

    }



});





 $('#erasecanvas1').click(function(){

    if (this.checked) {

      canvas1.freeDrawingBrush.width   = 10;

    } else {

      canvas1.freeDrawingBrush.width  = 20;

    }


});


$('#exportcanvas1').click(function(){

  $('#canvas1').get(0).toBlob(function(blob){

    saveAs(blob, 'canvas1-IMG.png');


  });


});






</script>
<p>You can have many canvas working independently within one document.</p>
<pre class="r"><code>fabric_drawing(cid = &quot;canvas2&quot;, 
               cwidth = 200, 
               cheight = 200, 
               cfill = &quot;lightblue&quot;, 
               drawingWidth = 10, 
               gumSize = 40)</code></pre>

<input id = erasecanvas2 type = 'checkbox' title='Check it to erase !'>

<input id = canvas2drawing-color type = 'color' value = '#005E7A' style = 'width:30px;'>

<input id = exportcanvas2 type = 'button' style = 'width:55px;' value = 'Export'>

<canvas id="canvas2" width="200" height="200"></canvas>
<script>
const canvas2 = new fabric.Canvas('canvas2', {
    backgroundColor: 'lightblue',
    isDrawingMode: true

    });


canvas2.freeDrawingBrush.width  = 10;


canvas2drawingColorEl = document.getElementById('canvas2drawing-color');

canvas2.freeDrawingBrush.color = canvas2drawingColorEl.value;

canvas2drawingColorEl.onchange = function() {
    canvas2.freeDrawingBrush.color = canvas2drawingColorEl.value;
  };


 $('#erasecanvas2').click(function(){

    if (this.checked) {

      canvas2.freeDrawingBrush.color  = 'lightblue';

    } else {

      canvas2.freeDrawingBrush.color = canvas2drawingColorEl.value;

    }



});





 $('#erasecanvas2').click(function(){

    if (this.checked) {

      canvas2.freeDrawingBrush.width   = 40;

    } else {

      canvas2.freeDrawingBrush.width  = 10;

    }


});


$('#exportcanvas2').click(function(){

  $('#canvas2').get(0).toBlob(function(blob){

    saveAs(blob, 'canvas2-IMG.png');


  });


});






</script>
</div>
<div id="fabric_shape" class="section level2">
<h2>2. fabric_shape()</h2>
<hr />
<blockquote>
<p>Creates a canvas in which a defined shape element is included. The shape is positioned according to two elements <code>left</code> and <code>top</code>. Both are set relatively to the canvas.</p>
</blockquote>
<div id="rectangle" class="section level3">
<h3>2.1. Rectangle</h3>
<hr />
<pre class="r"><code>fabric_shape(cid = &quot;canvas_Rect&quot;, 
             cwidth = 500, 
             cheight = 500, 
             cfill = &quot;lightgreen&quot;, 
             shapeId = &quot;rect1&quot;, 
             shape = &quot;Rect&quot;, 
             left = 200, 
             top = 200)</code></pre>
<canvas id="canvas_Rect" width="500" height="500"></canvas>
<script>
var canvas_Rect = new fabric.Canvas('canvas_Rect', {

    isDrawingMode: false

    });

canvas_Rect.backgroundColor = 'lightgreen';


var rect1 = new fabric.Rect({

left: 200,
top: 200,
fill: 'red',
width: 200,
height: 200,
angle: 0,
opacity: 1,
stroke: 'darkblue',
strokeWidth: 5,
selectable: true,



});

canvas_Rect.add(rect1);

</script>
<p>The user can modify the size, position and rotation of the shape interactively, if you want to disable this feature set the <code>selectable</code> argument to <code>FALSE</code>:</p>
<pre class="r"><code>fabric_shape(cid = &quot;canvas_Rect2&quot;, 
             cwidth = 500, 
             cheight = 500, 
             cfill = &quot;lightgreen&quot;, 
             shapeId = &quot;rect2&quot;, 
             shape = &quot;Rect&quot;, 
             left = 200, 
             top = 200, 
             selectable = FALSE)</code></pre>
<canvas id="canvas_Rect2" width="500" height="500"></canvas>
<script>
var canvas_Rect2 = new fabric.Canvas('canvas_Rect2', {

    isDrawingMode: false

    });

canvas_Rect2.backgroundColor = 'lightgreen';


var rect2 = new fabric.Rect({

left: 200,
top: 200,
fill: 'red',
width: 200,
height: 200,
angle: 0,
opacity: 1,
stroke: 'darkblue',
strokeWidth: 5,
selectable: false,



});

canvas_Rect2.add(rect2);

</script>
</div>
<div id="circle" class="section level3">
<h3>2.2. Circle</h3>
<pre class="r"><code>fabric_shape(cid = &quot;canvas_circle&quot;, 
             cwidth = 500, 
             cheight = 500, 
             cfill = &quot;red&quot;, 
             shapeId = &quot;circ&quot;, 
             shape = &quot;Circle&quot;,
             fill = &quot;yellow&quot;,
             radius = 100,
             strokecolor = &quot;green&quot;, 
             strokewidth = 2)</code></pre>
<canvas id="canvas_circle" width="500" height="500"></canvas>
<script>
var canvas_circle = new fabric.Canvas('canvas_circle', {

    isDrawingMode: false

    });

canvas_circle.backgroundColor = 'red';


var circ = new fabric.Circle({

left: 100,
top: 100,
fill: 'yellow',
width: 200,
height: 200,
angle: 0,
opacity: 1,
stroke: 'green',
strokeWidth: 2,
selectable: true,

radius:100

});

canvas_circle.add(circ);

</script>
</div>
<div id="triangle" class="section level3">
<h3>2.3. Triangle</h3>
<pre class="r"><code>fabric_shape(cid = &quot;canvas_Triangle&quot;, 
             cwidth = 500, 
             cheight = 500, 
             cfill = &quot;#B4B4D8&quot;, 
             shapeId = &quot;tri&quot;, 
             shape = &quot;Triangle&quot;, 
             left = 150, 
             top = 150, 
             fill = &quot;#D7BC66&quot;)</code></pre>
<canvas id="canvas_Triangle" width="500" height="500"></canvas>
<script>
var canvas_Triangle = new fabric.Canvas('canvas_Triangle', {

    isDrawingMode: false

    });

canvas_Triangle.backgroundColor = '#B4B4D8';


var tri = new fabric.Triangle({

left: 150,
top: 150,
fill: '#D7BC66',
width: 200,
height: 200,
angle: 0,
opacity: 1,
stroke: 'darkblue',
strokeWidth: 5,
selectable: true,



});

canvas_Triangle.add(tri);

</script>
</div>
<div id="polygon" class="section level3">
<h3>2.4. Polygon</h3>
<pre class="r"><code>fabric_shape(cid = &quot;canvas_Polygon&quot;,
             cwidth = 400, 
             cheight = 400, 
             shapeId = &quot;poly1&quot;, 
             shape = &quot;Polygon&quot;, 
             top = 200, 
             cfill = &quot;#4E5C68&quot;, 
             fill = &quot;#1BDB99&quot;,
             xPolygon = c(200, 250, 250, 150, 150), 
             yPolygon = c(10, 50, 180, 180, 50))</code></pre>
<canvas id="canvas_Polygon" width="400" height="400"></canvas>
<script>var canvas_Polygon = new fabric.Canvas('canvas_Polygon', {

    isDrawingMode: false

    });

canvas_Polygon.backgroundColor = '#4E5C68';


var poly1 = new fabric.Polygon(

[{x: 200 , y: 10 },{x: 250 , y: 50 },{x: 250 , y: 180 },{x: 150 , y: 180 },{x: 150 , y: 50 }], {

fill: '#1BDB99',
left: 100,
top: 200,
width: 200,
height: 200,
angle: 0,
opacity: 1,
stroke: 'darkblue',
strokeWidth: 5,
selectable: true

});

canvas_Polygon.add(poly1);

</script>
</div>
</div>
<div id="fabric_text" class="section level2">
<h2>3. fabric_text()</h2>
<hr />
<blockquote>
<p>Creates a canvas in which a defined text is rendered.</p>
</blockquote>
<pre class="r"><code>fabric_text(cid = &quot;canvas_text&quot;, 
            cwidth = 800, 
            cheight = 100, 
            cfill = &quot;#D769AB&quot;, 
            textId = &quot;txt1&quot;, 
            text = &quot;You understand that you must wear a mask ?!!&quot;, 
            left = 10, 
            top = 10, 
            fill = &quot;blue&quot;,
            strokewidth = 0)</code></pre>
<canvas id="canvas_text" width="800" height="100"></canvas>
<script>
  var canvas_text = new fabric.Canvas('canvas_text', {

    isDrawingMode: false

    });

  canvas_text.backgroundColor = '#D769AB';

  var txt1 = new fabric.Text("You understand that you must wear a mask ?!!", {

  left: 10,
  top: 10,
  fontFamily: 'Comic Sans',
  fontSize: 40,
  fontStyle: 'normal',
  fontWeight: 'normal',
  underline: false,
  linethrough: false,
  overline: false,
  fill: 'blue',
  angle: 0,
  opacity: 1,
  stroke: '#282A36',
  strokeWidth: 0,
  textAlign: 'center',
  lineHeight: 1,
  
  selectable: true,
  

});

  canvas_text.add(txt1);
</script>
</div>
<div id="fabric_image" class="section level2">
<h2>4. fabric_image()</h2>
<hr />
<blockquote>
<p>Inserts external images within a canvas element.</p>
</blockquote>
<pre class="r"><code>fabric_image(cid = &quot;cimage&quot;, 
             cfill = &quot;#000000&quot;, 
             cwidth = 500, 
             cheight = 500,
             imgId = &quot;dplyrhex&quot;,
             imgsrc = &quot;https://raw.githubusercontent.com/rstudio/hex-stickers/master/PNG/dplyr.png&quot;,
             imgwidth = 250,
             imgheight = 250)</code></pre>
<canvas id="cimage" width="500" height="500"></canvas>
<script> var cimage = new fabric.Canvas('cimage', {

   isDrawingMode: false

   });

 cimage.backgroundColor = '#000000';

fabric.Image.fromURL('https://raw.githubusercontent.com/rstudio/hex-stickers/master/PNG/dplyr.png', function(dplyrhex) {

var dplyrhex = dplyrhex.set({
left: 100,
top: 100,
angle: 0,
opacity: 1,
stroke: 'darkblue',
strokeWidth: 1,
selectable: true

 });

dplyrhex.scaleToHeight(250);
dplyrhex.scaleToWidth(250);

cimage.add(dplyrhex);

 });
</script>
</div>
<div id="fabric_curtail" class="section level2">
<h2>5. fabric_curtail()</h2>
<hr />
<blockquote>
<p>Add a background or an overlay image to a preexisting canvas.</p>
</blockquote>
<pre class="r"><code>fabric_shape(cid = &quot;canvas_curtail&quot;,
              shapeId = &quot;tri1&quot;,
              shape = &quot;Triangle&quot;,
              fill = &quot;lightblue&quot;)</code></pre>
<canvas id="canvas_curtail" width="800" height="600"></canvas>
<script>
var canvas_curtail = new fabric.Canvas('canvas_curtail', {

    isDrawingMode: false

    });

canvas_curtail.backgroundColor = '#FFFFFF';


var tri1 = new fabric.Triangle({

left: 100,
top: 100,
fill: 'lightblue',
width: 200,
height: 200,
angle: 0,
opacity: 1,
stroke: 'darkblue',
strokeWidth: 5,
selectable: true,



});

canvas_curtail.add(tri1);

</script>
<pre class="r"><code>fabric_curtail(cid = &quot;canvas_curtail&quot;,
imgsrc = &quot;https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/R_logo.svg/724px-R_logo.svg.png&quot;,
type = &quot;background&quot;

              )</code></pre>
<script>


fabric.Image.fromURL('https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/R_logo.svg/724px-R_logo.svg.png', function(img) {
    img.set({
        scaleX: canvas_curtail.getWidth() / img.width,
        scaleY: canvas_curtail.getHeight() / img.height,
        objectCaching: false,
        originX: 'left',
        originY: 'top'
     });
     canvas_curtail.setBackgroundImage(img, canvas_curtail.renderAll.bind(canvas_curtail));
 });

</script>
</div>
